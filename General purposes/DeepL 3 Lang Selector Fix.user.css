/* ==UserStyle==
@name           DeepL 3 Lang Selector Fix
@namespace      Comicslate
@version        2023.9.6
@preprocessor   less
@license        CC-BY-NC-SA-4.0
@author         Rainbow-Spike
@supportURL     https://github.com/Comicslate/Userstyles/raw/main/General%20purposes/DeepL%203%20Lang%20Selector%20Fix.user.css
==/UserStyle== */

@-moz-document domain("deepl.com") {
	.ins ( @lng, @pic, @cnt, @ord ) {
		&[data-testid*='-@{lng}'] {
			order: @ord;
			div::before {
				background: ~ 'url(https://github.com/DavideViolante/Wikipedia-Flag-Icons/raw/master/Chrome%20Extension/WikipediaFlagIcons/images/flags/@{pic}.png)';
				content: '@{cnt}';
			}
		}
	}
	.border-dark-7 { /* блок */
		padding: 0;
		.focus-within\:border-blue-chill, /* найти язык */
		.divide-dark-7 { /* перегородки */
			display: none;
		}
		.grid-flow-col { /* список */
			column-gap: 0;
			grid-template-columns: auto;
			grid-template-rows: auto !important;
			button { /* кнопки */
				border: 1px solid #ddd;
				border-radius: 7px;
				padding: 0;
				div::before { /* флаги */
					background-repeat: no-repeat !important;
					background-position: 50% 5% !important;
					font-size: 12px;
					padding-top: 9px;
					width: 100%;
				}
				.ins ( en, us, en, 1 );
				.ins ( ru, ru, ru, 2 );
				.ins ( de, de, de, 3 );
				.ins ( fr, fr, fr, 4 );
				.ins ( bg, bg, bg, 5 );
				.ins ( cs, cz, cs, 7 );
				.ins ( da, dk, da, 8 );
				.ins ( el, gr, el, 9 );
				.ins ( es, es, es, 10 );
				.ins ( fi, fi, fi, 11 );
				.ins ( hu, hu, hu, 12 );
				.ins ( id, id, id, 13 );
				.ins ( it, it, it, 14 );
				.ins ( ja, jp, ja, 15 );
				.ins ( ko, kr, ko, 16 );
				.ins ( pl, pl, pl, 17 );
				.ins ( pt, pt, pt, 18 );
				.ins ( tr, tr, tr, 19 );
				.ins ( uk, ua, uk, 20 );
				.ins ( zh, cn, zh, 21 );
				.ins ( BR, br, br, 6 );

				span, /* имена языков */
				&[data-testid*="-auto"],
				&[data-testid*="en-GB"],
				&[data-testid*="-lv"],
				&[data-testid*="-lt"],
				&[data-testid*="-nb"],
				&[data-testid*="-nl"],
				&[data-testid*="-ro"],
				&[data-testid*="-sk"],
				&[data-testid*="-sl"],
				&[data-testid*="-sv"],
				&[data-testid*="-et"] {
					display: none;
				}
				&.text-blue-chill {
					svg { /* убрать галочку текущего языка */
						display: none;
					}
				font-weight: 1000; /* ужирнить текущий язык */
				}
			}
		}
	}
}
